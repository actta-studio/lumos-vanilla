"use strict";self.webpackHotUpdatevanilla_boilerplate("main",{"./app/pages/shop/index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var n=s("./app/classes/Page.js"),o=s("./node_modules/lodash/lodash.js"),a=s("./app/animations/Products.js"),i=s("./node_modules/gsap/index.js"),r=s("./node_modules/gsap/CustomEase.js");class c extends n.default{constructor({lenis:e}){super({id:"shop",element:".shop",elements:{animatedProducts:"[data-animation='products']"}}),this.lenis=e,this.addEventListeners()}create(){super.create(),this.createAnimations()}createAnimations(){this.animatedProducts=(0,o.map)(this.elements.get("animatedProducts"),(e=>{const t=e.getBoundingClientRect();return t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.bottom>=0?void i.default.from(e,{autoAlpha:0,yPercent:30,ease:r.default.create("custom","0.4, 0, 0.22, 1")}):new a.default({element:e})}))}show(){super.show(),this.lenis.start(),this.loading=!1,this.currentPage=parseInt(document.querySelector(".product-grid").dataset.page),this.totalPages=parseInt(document.querySelector(".product-grid").dataset.total),this.collection=window.location.search.split("=")[1]||null,this.lang=window.location.pathname.split("/")[1]||"en-us",this.addObservers()}async fetchProductInfo({url:e,push:t=!0}){}updateAnimations(e){(0,o.each)(e,(e=>new a.default({element:e})))}async fetchProducts(){if(this.loading=!0,document.querySelector(".shop .loading-indicator").classList.add("active"),document.querySelector(".shop .loading-indicator").classList.remove("active"),this.currentPage=parseInt(document.querySelector(".product-grid").dataset.page),this.totalPages=parseInt(document.querySelector(".product-grid").dataset.total),this.collection=window.location.search.split("=")[1]||null,this.lang=window.location.pathname.split("/")[1]||"en-us",this.currentPage>=this.totalPages)return void document.querySelector(".shop .sentinel").remove();const e=this.collection?`/${this.lang}/shop?collection=${this.collection}&page=${this.currentPage+1}`:`/${this.lang}/shop?page=${this.currentPage+1}`,t=await window.fetch(e);if(!t.ok)return;this.currentPage+=1;const s=await t.text(),n=(new DOMParser).parseFromString(s,"text/html").querySelector(".product-grid").children;this.addEventListenersToLinks(n),this.updateAnimations(n),document.querySelector(".product-grid").append(...n),document.querySelector(".product-grid").dataset.page=this.currentPage,this.loading=!1}animateInProducts(){}animateOutProducts(){return new Promise(((e,t)=>{const s=document.querySelectorAll(".product-grid__product__image");i.default.to(s,{filter:"grayscale(1)",duration:1,ease:"power2.inOut",onComplete:e})}))}addEventListeners(){const e=document.querySelectorAll("a[data-toggle]");this.addEventListenersToLinks(e)}addEventListenersToLinks(e){(0,o.each)(e,(e=>{e.onclick=t=>{t.preventDefault();const{href:s}=e;this.fetchProductInfo({url:s})}}))}addObservers(){const e=document.querySelector(".shop .sentinel");if(!e)return;new window.IntersectionObserver((e=>{e.some((e=>e.isIntersecting))&&this.fetchProducts()})).observe(e)}}}},(function(e){e.h=()=>"f36db53138387a011cfd"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi4zMTQ3MTI4MzVhM2FhYjViNzZjNy5ob3QtdXBkYXRlLmpzIiwibWFwcGluZ3MiOiIyVEFPZSxNQUFNQSxVQUFhQyxFQUFBQSxRQUNqQ0MsV0FBQUEsRUFBWSxNQUFFQyxJQUNiQyxNQUFNLENBQ0xDLEdBQUksT0FDSkMsUUFBUyxRQUNUQyxTQUFVLENBQ1RDLGlCQUFrQixpQ0FJcEJDLEtBQUtOLE1BQVFBLEVBRWJNLEtBQUtDLG1CQUNOLENBRUFDLE1BQUFBLEdBQ0NQLE1BQU1PLFNBQ05GLEtBQUtHLGtCQUNOLENBRUFBLGdCQUFBQSxHQUNDSCxLQUFLRCxrQkFBbUJLLEVBQUFBLEVBQUFBLEtBQ3ZCSixLQUFLRixTQUFTTyxJQUFJLHFCQUNqQlIsSUFDQSxNQUFNUyxFQUFPVCxFQUFRVSx3QkFFckIsT0FDQ0QsRUFBS0UsTUFDSEMsT0FBT0MsYUFBZUMsU0FBU0MsZ0JBQWdCQyxlQUNqRFAsRUFBS1EsUUFBVSxPQUVmQyxFQUFBQSxRQUFLQyxLQUFLbkIsRUFBUyxDQUNsQm9CLFVBQVcsRUFDWEMsU0FBVSxHQUNWQyxLQUFNQyxFQUFBQSxRQUFXbEIsT0FBTyxTQUFVLHFCQUk1QixJQUFJbUIsRUFBQUEsUUFBUyxDQUNuQnhCLFdBRUYsR0FHSCxDQUVBeUIsSUFBQUEsR0FDQzNCLE1BQU0yQixPQUNOdEIsS0FBS04sTUFBTTZCLFFBRVh2QixLQUFLd0IsU0FBVSxFQUNmeEIsS0FBS3lCLFlBQWNDLFNBQ2xCZixTQUFTZ0IsY0FBYyxpQkFBaUJDLFFBQVFDLE1BRWpEN0IsS0FBSzhCLFdBQWFKLFNBQ2pCZixTQUFTZ0IsY0FBYyxpQkFBaUJDLFFBQVFHLE9BRWpEL0IsS0FBS2dDLFdBQWF2QixPQUFPd0IsU0FBU0MsT0FBT0MsTUFBTSxLQUFLLElBQU0sS0FDMURuQyxLQUFLb0MsS0FBTzNCLE9BQU93QixTQUFTSSxTQUFTRixNQUFNLEtBQUssSUFBTSxRQUV0RG5DLEtBQUtzQyxjQUNOLENBRUEsc0JBQU1DLEVBQWlCLElBQUVDLEVBQUcsS0FBRUMsR0FBTyxJQWdDckMsQ0FFQUMsZ0JBQUFBLENBQWlCQyxJQUNoQkMsRUFBQUEsRUFBQUEsTUFBS0QsR0FBVUEsR0FDUCxJQUFJdEIsRUFBQUEsUUFBUyxDQUFFeEIsUUFBUzhDLEtBRWpDLENBRUEsbUJBQU1FLEdBb0JMLEdBbkJBN0MsS0FBS3dCLFNBQVUsRUFFZmIsU0FBU2dCLGNBQWMsNEJBQTRCbUIsVUFBVUMsSUFBSSxVQUVqRXBDLFNBQ0VnQixjQUFjLDRCQUNkbUIsVUFBVUUsT0FBTyxVQUVuQmhELEtBQUt5QixZQUFjQyxTQUNsQmYsU0FBU2dCLGNBQWMsaUJBQWlCQyxRQUFRQyxNQUdqRDdCLEtBQUs4QixXQUFhSixTQUNqQmYsU0FBU2dCLGNBQWMsaUJBQWlCQyxRQUFRRyxPQUdqRC9CLEtBQUtnQyxXQUFhdkIsT0FBT3dCLFNBQVNDLE9BQU9DLE1BQU0sS0FBSyxJQUFNLEtBQzFEbkMsS0FBS29DLEtBQU8zQixPQUFPd0IsU0FBU0ksU0FBU0YsTUFBTSxLQUFLLElBQU0sUUFFbERuQyxLQUFLeUIsYUFBZXpCLEtBQUs4QixXQUU1QixZQURBbkIsU0FBU2dCLGNBQWMsbUJBQW1CcUIsU0FJM0MsTUFBTVIsRUFBTXhDLEtBQUtnQyxXQUNiLElBQUdoQyxLQUFLb0Msd0JBQXdCcEMsS0FBS2dDLG1CQUN0Q2hDLEtBQUt5QixZQUFjLElBRWxCLElBQUd6QixLQUFLb0Msa0JBQWtCcEMsS0FBS3lCLFlBQWMsSUFFM0N3QixRQUFpQnhDLE9BQU95QyxNQUFNVixHQUVwQyxJQUFLUyxFQUFTRSxHQUNiLE9BR0RuRCxLQUFLeUIsYUFBZSxFQUVwQixNQUFNMkIsUUFBYUgsRUFBU0ksT0FHdEJDLEdBRlMsSUFBSUMsV0FDU0MsZ0JBQWdCSixFQUFNLGFBQ2pCekIsY0FBYyxpQkFBaUI4QixTQUNoRXpELEtBQUswRCx5QkFBeUJKLEdBQzlCdEQsS0FBSzBDLGlCQUFpQlksR0FDdEIzQyxTQUFTZ0IsY0FBYyxpQkFBaUJnQyxVQUFVTCxHQUNsRDNDLFNBQVNnQixjQUFjLGlCQUFpQkMsUUFBUUMsS0FBTzdCLEtBQUt5QixZQUU1RHpCLEtBQUt3QixTQUFVLENBQ2hCLENBRUFvQyxpQkFBQUEsR0FBcUIsQ0FFckJDLGtCQUFBQSxHQUNDLE9BQU8sSUFBSUMsU0FBUSxDQUFDQyxFQUFTQyxLQUM1QixNQUFNQyxFQUFXdEQsU0FBU3VELGlCQUN6QixpQ0FHRG5ELEVBQUFBLFFBQUtvRCxHQUFHRixFQUFVLENBQ2pCRyxPQUFRLGVBQ1JDLFNBQVUsRUFDVmxELEtBQU0sZUFDTm1ELFdBQVlQLEdBQ1gsR0FFSixDQUVBOUQsaUJBQUFBLEdBQ0MsTUFBTXNFLEVBQVE1RCxTQUFTdUQsaUJBQWlCLGtCQUN4Q2xFLEtBQUswRCx5QkFBeUJhLEVBQy9CLENBRUFiLHdCQUFBQSxDQUF5QmEsSUFDeEIzQixFQUFBQSxFQUFBQSxNQUFLMkIsR0FBUUMsSUFDWkEsRUFBS0MsUUFBV0MsSUFDZkEsRUFBTUMsaUJBQ04sTUFBTSxLQUFFQyxHQUFTSixFQUVqQnhFLEtBQUt1QyxpQkFBaUIsQ0FBRUMsSUFBS29DLEdBQU8sQ0FDcEMsR0FFSCxDQUVBdEMsWUFBQUEsR0FDQyxNQUFNdUMsRUFBV2xFLFNBQVNnQixjQUFjLG1CQUV4QyxJQUFLa0QsRUFBVSxPQUVFLElBQUlwRSxPQUFPcUUsc0JBQXNCQyxJQUM3Q0EsRUFBUUMsTUFBTUMsR0FBVUEsRUFBTUMsa0JBQ2pDbEYsS0FBSzZDLGVBQ04sSUFHUXNDLFFBQVFOLEVBQ2xCLEUsZ0JDOU1ETyxFQUFvQkMsRUFBSSxJQUFNLHNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmFuaWxsYS1ib2lsZXJwbGF0ZS8uL2FwcC9wYWdlcy9zaG9wL2luZGV4LmpzIiwid2VicGFjazovL3ZhbmlsbGEtYm9pbGVycGxhdGUvd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQYWdlIGZyb20gXCJjbGFzc2VzL1BhZ2VcIjtcbmltcG9ydCB7IGVhY2ggfSBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgUHJvZHVjdHMgZnJvbSBcImFuaW1hdGlvbnMvUHJvZHVjdHNcIjtcbmltcG9ydCBHU0FQIGZyb20gXCJnc2FwXCI7XG5pbXBvcnQgeyBtYXAgfSBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgQ3VzdG9tRWFzZSBmcm9tIFwiZ3NhcC9DdXN0b21FYXNlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNob3AgZXh0ZW5kcyBQYWdlIHtcblx0Y29uc3RydWN0b3IoeyBsZW5pcyB9KSB7XG5cdFx0c3VwZXIoe1xuXHRcdFx0aWQ6IFwic2hvcFwiLFxuXHRcdFx0ZWxlbWVudDogXCIuc2hvcFwiLFxuXHRcdFx0ZWxlbWVudHM6IHtcblx0XHRcdFx0YW5pbWF0ZWRQcm9kdWN0czogXCJbZGF0YS1hbmltYXRpb249J3Byb2R1Y3RzJ11cIixcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHR0aGlzLmxlbmlzID0gbGVuaXM7XG5cblx0XHR0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7XG5cdH1cblxuXHRjcmVhdGUoKSB7XG5cdFx0c3VwZXIuY3JlYXRlKCk7XG5cdFx0dGhpcy5jcmVhdGVBbmltYXRpb25zKCk7XG5cdH1cblxuXHRjcmVhdGVBbmltYXRpb25zKCkge1xuXHRcdHRoaXMuYW5pbWF0ZWRQcm9kdWN0cyA9IG1hcChcblx0XHRcdHRoaXMuZWxlbWVudHMuZ2V0KFwiYW5pbWF0ZWRQcm9kdWN0c1wiKSxcblx0XHRcdChlbGVtZW50KSA9PiB7XG5cdFx0XHRcdGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRyZWN0LnRvcCA8PVxuXHRcdFx0XHRcdFx0KHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSAmJlxuXHRcdFx0XHRcdHJlY3QuYm90dG9tID49IDBcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0R1NBUC5mcm9tKGVsZW1lbnQsIHtcblx0XHRcdFx0XHRcdGF1dG9BbHBoYTogMCxcblx0XHRcdFx0XHRcdHlQZXJjZW50OiAzMCxcblx0XHRcdFx0XHRcdGVhc2U6IEN1c3RvbUVhc2UuY3JlYXRlKFwiY3VzdG9tXCIsIFwiMC40LCAwLCAwLjIyLCAxXCIpLFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gbmV3IFByb2R1Y3RzKHtcblx0XHRcdFx0XHRcdGVsZW1lbnQsXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHQpO1xuXHR9XG5cblx0c2hvdygpIHtcblx0XHRzdXBlci5zaG93KCk7XG5cdFx0dGhpcy5sZW5pcy5zdGFydCgpO1xuXG5cdFx0dGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cdFx0dGhpcy5jdXJyZW50UGFnZSA9IHBhcnNlSW50KFxuXHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9kdWN0LWdyaWRcIikuZGF0YXNldC5wYWdlXG5cdFx0KTtcblx0XHR0aGlzLnRvdGFsUGFnZXMgPSBwYXJzZUludChcblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZHVjdC1ncmlkXCIpLmRhdGFzZXQudG90YWxcblx0XHQpO1xuXHRcdHRoaXMuY29sbGVjdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3BsaXQoXCI9XCIpWzFdIHx8IG51bGw7XG5cdFx0dGhpcy5sYW5nID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KFwiL1wiKVsxXSB8fCBcImVuLXVzXCI7XG5cblx0XHR0aGlzLmFkZE9ic2VydmVycygpO1xuXHR9XG5cblx0YXN5bmMgZmV0Y2hQcm9kdWN0SW5mbyh7IHVybCwgcHVzaCA9IHRydWUgfSkge1xuXHRcdC8vIG1heWJlIHpvb20gb3V0IGNvbnRlbnQgYW5kIHNsaWRlIGluIG1vZGFsXG5cblx0XHQvLyBHU0FQLnRvKFwiYm9keVwiLCB7XG5cdFx0Ly8gXHRzY2FsZTogMC45ODUsXG5cdFx0Ly8gXHRkdXJhdGlvbjogMC41LFxuXHRcdC8vIFx0ZWFzZTogXCJwb3dlcjIuaW5PdXRcIixcblx0XHQvLyB9KTtcblxuXHRcdC8vIHNsaWRlIGluIHByb2R1Y3QgbW9kYWxcblxuXHRcdHJldHVybjtcblxuXHRcdGNvbnN0IHJlcXVlc3QgPSBhd2FpdCB3aW5kb3cuZmV0Y2godXJsKTtcblxuXHRcdGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMjAwKSB7XG5cdFx0XHRjb25zdCBodG1sID0gYXdhaXQgcmVxdWVzdC50ZXh0KCk7XG5cdFx0XHRjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0aWYgKHB1c2gpIHtcblx0XHRcdFx0d2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCBcIlwiLCB1cmwpO1xuXHRcdFx0fVxuXHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRjb25zdCBkaXZDb250ZW50ID0gZGl2LnF1ZXJ5U2VsZWN0b3IoXCIjY29udGVudFwiKTtcblxuXHRcdFx0Y29uc3QgcHJvZHVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRwcm9kdWN0LmNsYXNzTmFtZSA9IFwicHJvZHVjdC1tb2RhbFwiO1xuXHRcdFx0cHJvZHVjdC5pbm5lckhUTUwgPSBkaXZDb250ZW50LmlubmVySFRNTDtcblxuXHRcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwcm9kdWN0KTtcblxuXHRcdFx0Ly8gdGhpcy5jdXJzb3IudXBkYXRlKCk7XG5cdFx0fVxuXHR9XG5cblx0dXBkYXRlQW5pbWF0aW9ucyhwcm9kdWN0KSB7XG5cdFx0ZWFjaChwcm9kdWN0LCAocHJvZHVjdCkgPT4ge1xuXHRcdFx0cmV0dXJuIG5ldyBQcm9kdWN0cyh7IGVsZW1lbnQ6IHByb2R1Y3QgfSk7XG5cdFx0fSk7XG5cdH1cblxuXHRhc3luYyBmZXRjaFByb2R1Y3RzKCkge1xuXHRcdHRoaXMubG9hZGluZyA9IHRydWU7XG5cblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNob3AgLmxvYWRpbmctaW5kaWNhdG9yXCIpLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG5cblx0XHRkb2N1bWVudFxuXHRcdFx0LnF1ZXJ5U2VsZWN0b3IoXCIuc2hvcCAubG9hZGluZy1pbmRpY2F0b3JcIilcblx0XHRcdC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuXG5cdFx0dGhpcy5jdXJyZW50UGFnZSA9IHBhcnNlSW50KFxuXHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9kdWN0LWdyaWRcIikuZGF0YXNldC5wYWdlXG5cdFx0KTtcblxuXHRcdHRoaXMudG90YWxQYWdlcyA9IHBhcnNlSW50KFxuXHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9kdWN0LWdyaWRcIikuZGF0YXNldC50b3RhbFxuXHRcdCk7XG5cblx0XHR0aGlzLmNvbGxlY3Rpb24gPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnNwbGl0KFwiPVwiKVsxXSB8fCBudWxsO1xuXHRcdHRoaXMubGFuZyA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdChcIi9cIilbMV0gfHwgXCJlbi11c1wiO1xuXG5cdFx0aWYgKHRoaXMuY3VycmVudFBhZ2UgPj0gdGhpcy50b3RhbFBhZ2VzKSB7XG5cdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNob3AgLnNlbnRpbmVsXCIpLnJlbW92ZSgpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IHVybCA9IHRoaXMuY29sbGVjdGlvblxuXHRcdFx0PyBgLyR7dGhpcy5sYW5nfS9zaG9wP2NvbGxlY3Rpb249JHt0aGlzLmNvbGxlY3Rpb259JnBhZ2U9JHtcblx0XHRcdFx0XHR0aGlzLmN1cnJlbnRQYWdlICsgMVxuXHRcdFx0ICB9YFxuXHRcdFx0OiBgLyR7dGhpcy5sYW5nfS9zaG9wP3BhZ2U9JHt0aGlzLmN1cnJlbnRQYWdlICsgMX1gO1xuXG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCB3aW5kb3cuZmV0Y2godXJsKTtcblxuXHRcdGlmICghcmVzcG9uc2Uub2spIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLmN1cnJlbnRQYWdlICs9IDE7XG5cblx0XHRjb25zdCBodG1sID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuXHRcdGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblx0XHRjb25zdCBodG1sRG9jdW1lbnQgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGh0bWwsIFwidGV4dC9odG1sXCIpO1xuXHRcdGNvbnN0IG5ld1Byb2R1Y3RzID0gaHRtbERvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZHVjdC1ncmlkXCIpLmNoaWxkcmVuO1xuXHRcdHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnNUb0xpbmtzKG5ld1Byb2R1Y3RzKTtcblx0XHR0aGlzLnVwZGF0ZUFuaW1hdGlvbnMobmV3UHJvZHVjdHMpO1xuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZHVjdC1ncmlkXCIpLmFwcGVuZCguLi5uZXdQcm9kdWN0cyk7XG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9kdWN0LWdyaWRcIikuZGF0YXNldC5wYWdlID0gdGhpcy5jdXJyZW50UGFnZTtcblxuXHRcdHRoaXMubG9hZGluZyA9IGZhbHNlO1xuXHR9XG5cblx0YW5pbWF0ZUluUHJvZHVjdHMoKSB7fVxuXG5cdGFuaW1hdGVPdXRQcm9kdWN0cygpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0Y29uc3QgcHJvZHVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuXHRcdFx0XHRcIi5wcm9kdWN0LWdyaWRfX3Byb2R1Y3RfX2ltYWdlXCJcblx0XHRcdCk7XG5cblx0XHRcdEdTQVAudG8ocHJvZHVjdHMsIHtcblx0XHRcdFx0ZmlsdGVyOiBcImdyYXlzY2FsZSgxKVwiLFxuXHRcdFx0XHRkdXJhdGlvbjogMSxcblx0XHRcdFx0ZWFzZTogXCJwb3dlcjIuaW5PdXRcIixcblx0XHRcdFx0b25Db21wbGV0ZTogcmVzb2x2ZSxcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0YWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG5cdFx0Y29uc3QgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiYVtkYXRhLXRvZ2dsZV1cIik7XG5cdFx0dGhpcy5hZGRFdmVudExpc3RlbmVyc1RvTGlua3MobGlua3MpO1xuXHR9XG5cblx0YWRkRXZlbnRMaXN0ZW5lcnNUb0xpbmtzKGxpbmtzKSB7XG5cdFx0ZWFjaChsaW5rcywgKGxpbmspID0+IHtcblx0XHRcdGxpbmsub25jbGljayA9IChldmVudCkgPT4ge1xuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRjb25zdCB7IGhyZWYgfSA9IGxpbms7XG5cblx0XHRcdFx0dGhpcy5mZXRjaFByb2R1Y3RJbmZvKHsgdXJsOiBocmVmIH0pO1xuXHRcdFx0fTtcblx0XHR9KTtcblx0fVxuXG5cdGFkZE9ic2VydmVycygpIHtcblx0XHRjb25zdCBzZW50aW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2hvcCAuc2VudGluZWxcIik7XG5cblx0XHRpZiAoIXNlbnRpbmVsKSByZXR1cm47XG5cblx0XHRjb25zdCBvYnNlcnZlciA9IG5ldyB3aW5kb3cuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcblx0XHRcdGlmIChlbnRyaWVzLnNvbWUoKGVudHJ5KSA9PiBlbnRyeS5pc0ludGVyc2VjdGluZykpIHtcblx0XHRcdFx0dGhpcy5mZXRjaFByb2R1Y3RzKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRvYnNlcnZlci5vYnNlcnZlKHNlbnRpbmVsKTtcblx0fVxufVxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiZjM2ZGI1MzEzODM4N2EwMTFjZmRcIikiXSwibmFtZXMiOlsiU2hvcCIsIlBhZ2UiLCJjb25zdHJ1Y3RvciIsImxlbmlzIiwic3VwZXIiLCJpZCIsImVsZW1lbnQiLCJlbGVtZW50cyIsImFuaW1hdGVkUHJvZHVjdHMiLCJ0aGlzIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJjcmVhdGUiLCJjcmVhdGVBbmltYXRpb25zIiwibWFwIiwiZ2V0IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRIZWlnaHQiLCJib3R0b20iLCJHU0FQIiwiZnJvbSIsImF1dG9BbHBoYSIsInlQZXJjZW50IiwiZWFzZSIsIkN1c3RvbUVhc2UiLCJQcm9kdWN0cyIsInNob3ciLCJzdGFydCIsImxvYWRpbmciLCJjdXJyZW50UGFnZSIsInBhcnNlSW50IiwicXVlcnlTZWxlY3RvciIsImRhdGFzZXQiLCJwYWdlIiwidG90YWxQYWdlcyIsInRvdGFsIiwiY29sbGVjdGlvbiIsImxvY2F0aW9uIiwic2VhcmNoIiwic3BsaXQiLCJsYW5nIiwicGF0aG5hbWUiLCJhZGRPYnNlcnZlcnMiLCJmZXRjaFByb2R1Y3RJbmZvIiwidXJsIiwicHVzaCIsInVwZGF0ZUFuaW1hdGlvbnMiLCJwcm9kdWN0IiwiZWFjaCIsImZldGNoUHJvZHVjdHMiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJodG1sIiwidGV4dCIsIm5ld1Byb2R1Y3RzIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiY2hpbGRyZW4iLCJhZGRFdmVudExpc3RlbmVyc1RvTGlua3MiLCJhcHBlbmQiLCJhbmltYXRlSW5Qcm9kdWN0cyIsImFuaW1hdGVPdXRQcm9kdWN0cyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicHJvZHVjdHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwidG8iLCJmaWx0ZXIiLCJkdXJhdGlvbiIsIm9uQ29tcGxldGUiLCJsaW5rcyIsImxpbmsiLCJvbmNsaWNrIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImhyZWYiLCJzZW50aW5lbCIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cmllcyIsInNvbWUiLCJlbnRyeSIsImlzSW50ZXJzZWN0aW5nIiwib2JzZXJ2ZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==